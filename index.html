<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Registration Portal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
        }

        /* Header Styles */
        .header {
            background: linear-gradient(135deg, #FFA500, #FFD700);
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-img {
            width: 50px;
            height: 50px;
            background: #8B0000;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 20px;
        }

        .institute-name {
            color: #8B0000;
            font-size: 24px;
            font-weight: bold;
        }

        .call-btn {
            background: #8B0000;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .call-btn:hover {
            background: #660000;
            transform: translateY(-2px);
        }

        /* Main Content */
        .main-content {
            min-height: calc(100vh - 140px);
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
        }

        .welcome-section {
            text-align: center;
            max-width: 600px;
        }

        .welcome-section h1 {
            color: #8B0000;
            font-size: 36px;
            margin-bottom: 20px;
        }

        .welcome-section p {
            font-size: 18px;
            margin-bottom: 30px;
            color: #666;
        }

        .proceed-btn {
            background: #8B0000;
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 30px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
        }

        .proceed-btn:hover {
            background: #660000;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(139, 0, 0, 0.3);
        }

        /* Login Page Styles */
        .login-container {
            display: none;
            min-height: calc(100vh - 140px);
            background: #f5f5f5;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
        }

        .login-box {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 400px;
        }

        .login-box h2 {
            text-align: center;
            color: #8B0000;
            margin-bottom: 30px;
            font-size: 28px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: bold;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #8B0000;
        }

        .login-btn {
            width: 100%;
            background: #8B0000;
            color: white;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .login-btn:hover {
            background: #660000;
        }

        /* Registration Page Styles */
        .registration-container {
            display: none;
            min-height: calc(100vh - 140px);
            background: #f5f5f5;
            padding: 40px 20px;
        }

        .registration-form {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .form-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
        }

        .form-header h2 {
            color: #8B0000;
            font-size: 32px;
        }

        .logout-btn {
            background: #dc3545;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .logout-btn:hover {
            background: #c82333;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .form-actions {
            text-align: center;
            margin-top: 30px;
        }

        .submit-btn {
            background: #8B0000;
            color: white;
            padding: 15px 50px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .submit-btn:hover {
            background: #660000;
        }

        /* Footer */
        .footer {
            background: #8B0000;
            color: white;
            padding: 30px 0;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            padding: 0 20px;
        }

        .footer-block h3 {
            margin-bottom: 15px;
            font-size: 18px;
        }

        .footer-block p {
            margin-bottom: 8px;
            font-size: 14px;
        }

        /* Dashboard Styles */
        .dashboard {
            background: #e8f5e8;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 10px;
            text-align: center;
        }

        .stats {
            font-size: 24px;
            color: #8B0000;
            font-weight: bold;
        }

        /* Success Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 15% auto;
            padding: 30px;
            border-radius: 15px;
            width: 300px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .modal-content h3 {
            color: #28a745;
            margin-bottom: 15px;
            font-size: 24px;
        }

        .modal-close {
            background: #8B0000;
            color: white;
            padding: 10px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 15px;
        }

        .error {
            border-color: #dc3545 !important;
        }

        .error-message {
            color: #dc3545;
            font-size: 14px;
            margin-top: 5px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }

            .institute-name {
                font-size: 20px;
            }

            .welcome-section h1 {
                font-size: 28px;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .registration-form {
                padding: 20px;
            }

            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <div class="logo-img">EDU</div>
                <div class="institute-name">Excellence Institute</div>
            </div>
            <button class="call-btn" onclick="window.open('tel:+1234567890')">üìû CALL NOW</button>
        </div>
    </header>

    <!-- Home Page -->
    <div id="home-page" class="main-content">
        <div class="welcome-section">
            <h1>Welcome to Student Registration Portal</h1>
            <p>Register for entrance examinations and secure your future with our comprehensive coaching programs.</p>
            <button class="proceed-btn" onclick="showLogin()">CLICK HERE TO PROCEED</button>
        </div>
    </div>

    <!-- Login Page -->
    <div id="login-page" class="login-container">
        <div class="login-box">
            <h2>Login</h2>
            <form id="login-form">
                <div class="form-group">
                    <label for="userid">User ID</label>
                    <input type="text" id="userid" name="userid" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" required>
                </div>
                <button type="submit" class="login-btn">Login</button>
            </form>
        </div>
    </div>

    <!-- Registration Page -->
    <div id="registration-page" class="registration-container">
        <div class="registration-form">
            <div class="form-header">
                <h2>Student Registration</h2>
                <button class="logout-btn" onclick="logout()">Logout</button>
            </div>

            <!-- Dashboard -->
            <div class="dashboard">
                <div class="stats">Total Registrations: <span id="total-registrations">0</span></div>
            </div>

            <form id="registration-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="email">Your Email Address *</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="firstName">First Name *</label>
                        <input type="text" id="firstName" name="firstName" required>
                    </div>
                    <div class="form-group">
                        <label for="lastName">Last Name *</label>
                        <input type="text" id="lastName" name="lastName" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone Number (10 digits) *</label>
                        <input type="tel" id="phone" name="phone" pattern="[0-9]{10}" maxlength="10" required>
                    </div>
                    <div class="form-group">
                        <label for="studentEmail">Student Email (Optional)</label>
                        <input type="email" id="studentEmail" name="studentEmail">
                    </div>
                    <div class="form-group">
                        <label for="grade">Grade *</label>
                        <select id="grade" name="grade" required>
                            <option value="">Select Grade</option>
                            <option value="9th">9th Grade</option>
                            <option value="10th">10th Grade</option>
                            <option value="11th">11th Grade</option>
                            <option value="12th">12th Grade</option>
                            <option value="Graduate">Graduate</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="targetExam">Target Exam *</label>
                        <input type="text" id="targetExam" name="targetExam" required>
                    </div>
                    <div class="form-group">
                        <label for="state">State/City *</label>
                        <select id="state" name="state" required onchange="updateDistricts()">
                            <option value="">Select State/City</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="district">District/Area *</label>
                        <select id="district" name="district" required>
                            <option value="">Select District/Area</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="city">City *</label>
                        <select id="city" name="city" required onchange="updateExamCenters()">
                            <option value="">Select City</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="pincode">Pincode (6 digits) *</label>
                        <input type="text" id="pincode" name="pincode" pattern="[0-9]{6}" maxlength="6" required>
                    </div>
                    <div class="form-group">
                        <label for="examMode">Exam Mode *</label>
                        <select id="examMode" name="examMode" required>
                            <option value="">Select Mode</option>
                            <option value="Online">Online</option>
                            <option value="Offline">Offline</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="examCenter">Exam Center *</label>
                        <select id="examCenter" name="examCenter" required>
                            <option value="">Select Exam Center</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="examDate">Exam Date *</label>
                        <input type="date" id="examDate" name="examDate" required>
                    </div>
                    <div class="form-group">
                        <label for="examTime">Exam Time *</label>
                        <input type="time" id="examTime" name="examTime" required>
                    </div>
                    <div class="form-group">
                        <label for="entityName">Entity Name *</label>
                        <input type="text" id="entityName" name="entityName" required>
                    </div>
                    <div class="form-group">
                        <label for="schoolName">School Name *</label>
                        <input type="text" id="schoolName" name="schoolName" required>
                    </div>
                    <div class="form-group">
                        <label for="ambitionStream">Ambition Stream *</label>
                        <select id="ambitionStream" name="ambitionStream" required>
                            <option value="">Select Stream</option>
                            <option value="Science">Science</option>
                            <option value="Commerce">Commerce</option>
                            <option value="Arts">Arts</option>
                            <option value="Engineering">Engineering</option>
                            <option value="Medical">Medical</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="whatsapp">WhatsApp Number (10 digits) *</label>
                        <input type="tel" id="whatsapp" name="whatsapp" pattern="[0-9]{10}" maxlength="10" required>
                    </div>
                    <div class="form-group">
                        <label for="amount">Amount (in Rs.)</label>
                        <input type="number" id="amount" name="amount" min="0">
                    </div>
                </div>
                <div class="form-actions">
                    <button type="submit" class="submit-btn">Submit Registration</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-block">
                <h3>Mumbai Center</h3>
                <p>123 Education Street</p>
                <p>Mumbai, Maharashtra 400001</p>
                <p>üìû +91-22-1234-5678</p>
            </div>
            <div class="footer-block">
                <h3>Delhi Center</h3>
                <p>456 Learning Avenue</p>
                <p>New Delhi, Delhi 110001</p>
                <p>üìû +91-11-9876-5432</p>
            </div>
            <div class="footer-block">
                <h3>Bangalore Center</h3>
                <p>789 Knowledge Park</p>
                <p>Bangalore, Karnataka 560001</p>
                <p>üìû +91-80-5555-6666</p>
            </div>
            <div class="footer-block">
                <h3>Contact Us</h3>
                <p>üìß info@excellence.edu</p>
                <p>üåê www.excellence.edu</p>
                <p>üì± WhatsApp: +91-9999-888877</p>
            </div>
        </div>
    </footer>

    <!-- Success Modal -->
    <div id="success-modal" class="modal">
        <div class="modal-content">
            <h3>‚úÖ Success!</h3>
            <p>Registration completed successfully!</p>
            <button class="modal-close" onclick="closeModal()">OK</button>
        </div>
    </div>

    <script>
        // Application State
        let currentPage = 'home';
        let studentData = JSON.parse(localStorage.getItem('studentData')) || [];
        
        // Location data for cascading dropdowns
        const locationData = {
            "CHANDIGARH": ["CHANDIGARH", "PANCHKULA", "MOHALI", "CHANDIGARH-2"],
            "AMBALA CANTT.": ["AMBALA CITY", "AMBALA CANTT."],
            "AMBALA CITY": ["AMBALA CITY", "CHANDIGARH", "PANCHKULA", "AMBALA CANTT."],
            "BARARA": ["BARARA"],
            "AMARGARH": ["AMARGARH", "NABHA"],
            "BHUNA": ["BHUNA"],
            "GIDDARBAHA": ["GIDDARBAHA"],
            "GHANOUR": ["GHANOUR", "PATIALA"],
            "HANSI": ["HANSI"],
            "JAITO": ["JAITO"],
            "KAKRALA": ["KAKRALA", "SAMANA"],
            "KANGRA": ["KANGRA"],
            "KASAULI": ["KASAULI"],
            "KOT KAPURA": ["KOT KAPURA"],
            "LEHRAGAGA": ["LEHRAGAGA"],
            "NADAUN": ["NADAUN"],
            "NAHAN": ["NAHAN"],
            "FIROZPUR": ["FIROZPUR"],
            "NAWANSHAHR": ["NAWANSHAHR"],
            "NURPURBEDI": ["NURPURBEDI"],
            "PALAMPUR": ["PALAMPUR"],
            "PAONTA SAHIB": ["PAONTA SAHIB"],
            "PATRAN": ["PATRAN"],
            "ROHRU": ["ROHRU"],
            "ROPAR": ["ROPAR"],
            "SANOUR": ["SANOUR", "PATIALA"],
            "SHIMLA": ["SHIMLA"],
            "SOLAN": ["SOLAN"],
            "SRI MUKTSAR SAHIB": ["SRI MUKTSAR SAHIB"],
            "SUNAM": ["SUNAM"],
            "SUNDER NAGAR": ["SUNDER NAGAR"],
            "TALWARA": ["TALWARA"],
            "BHADSON": ["BHADSON"],
            "DEVIGARH": ["DEVIGARH"],
            "GHAGGA": ["GHAGGA"],
            "SANAUR": ["SANAUR"],
            "MAUR MANDI": ["MAUR MANDI"],
            "FARIDKOT": ["FARIDKOT"],
            "MANDI GOBINDGARH": ["MANDI GOBINDGARH"],
            "GARSHANKAR": ["GARSHANKAR"],
            "BARETA": ["BARETA", "MANSA"],
            "BATHINDA": ["BATHINDA"],
            "BUDHLADA": ["BUDHLADA", "MANSA"],
            "BHAWANIGARH": ["BHAWANIGARH"],
            "CHEEMA": ["CHEEMA"],
            "BILASPUR (HIMACHAL PRADESH)": ["BILASPUR (HIMACHAL PRADESH)"],
            "GHUMARVI": ["GHUMARVI"],
            "CHAMBA": ["CHAMBA"],
            "DALHOUSIE": ["DALHOUSIE"],
            "HAMIRPUR": ["HAMIRPUR"],
            "DHARAMSHALA": ["DHARAMSHALA"],
            "KULLU": ["KULLU"],
            "MANDI": ["MANDI"],
            "BADDI": ["BADDI"],
            "UNA": ["UNA"],
            "SAFIDON": ["SAFIDON"],
            "BHATTU MANDI": ["BHATTU MANDI"],
            "BALSAMAND": ["BALSAMAND"],
            "NARAINGARH": ["NARAINGARH"],
            "BHIWANI": ["BHIWANI"],
            "SIWANI": ["SIWANI"],
            "TOSHAM": ["TOSHAM"],
            "JIND": ["SAFIDON", "JIND"],
            "CHARKHI DADRI": ["CHARKHI DADRI"],
            "FARIDABAD": ["FARIDABAD"],
            "FATEHABAD": ["FATEHABAD"],
            "RATIA": ["RATIA"],
            "PINJORE": ["PINJORE"],
            "TOHANA": ["TOHANA"],
            "GURUGRAM": ["GURUGRAM"],
            "BHADRA": ["BHADRA"],
            "ADAMPUR": ["ADAMPUR"],
            "AGROHA": ["AGROHA"],
            "BARWALA": ["BARWALA"],
            "HISAR": ["HISAR", "CHANDIGARH"],
            "UKLANA": ["UKLANA", "UKLANA 2"],
            "BAHADURGARH": ["BAHADURGARH"],
            "JHAJJAR": ["JHAJJAR"],
            "NARWANA": ["NARWANA"],
            "CHEEKA": ["CHEEKA"],
            "KAITHAL": ["KAITHAL"],
            "KALAYAT": ["KALAYAT"],
            "PUNDRI": ["PUNDRI"],
            "RAJOUND": ["RAJOUND"],
            "SIWAN": ["SIWAN"],
            "ASSANDH": ["ASSANDH"],
            "GHARAUNDA": ["GHARAUNDA"],
            "KARNAL": ["KARNAL"],
            "NILOKHERI": ["NILOKHERI"],
            "KURUKSHETRA": ["KURUKSHETRA"],
            "LADWA": ["LADWA"],
            "SHAHABAD": ["SHAHABAD"],
            "PEHOWA": ["PEHOWA"],
            "MAHENDERGARH": ["MAHENDERGARH"],
            "NARNAUL": ["NARNAUL"],
            "PALWAL": ["PALWAL"],
            "PUNAHANA": ["PUNAHANA"],
            "HATHIN": ["HATHIN"],
            "HODAL": ["HODAL"],
            "PANIPAT": ["PANIPAT"],
            "SAMALKHA": ["SAMALKHA"],
            "REWARI": ["REWARI"],
            "BHADURGARH": ["BHADURGARH"],
            "ROHTAK": ["ROHTAK"],
            "KALANAUR": ["KALANAUR"],
            "MEHAM": ["MEHAM"],
            "SUNARIA": ["SUNARIA"],
            "SONEPAT": ["SONEPAT"],
            "GOHANA": ["GOHANA"],
            "KHARKHODA": ["KHARKHODA"],
            "JULANA": ["JULANA"],
            "JIND RURAL": ["JIND RURAL"],
            "SIRSA": ["SIRSA"],
            "ELLENABAD": ["ELLENABAD"],
            "KHARIALA": ["KHARIALA"],
            "ODHAN": ["ODHAN"],
            "RANIA": ["RANIA"],
            "SHAHJADPUR": ["SHAHJADPUR"],
            "YAMUNANAGAR": ["YAMUNANAGAR"],
            "JAGADHRI": ["JAGADHRI"],
            "BILASPUR": ["BILASPUR"],
            "SADHAURA": ["SADHAURA"],
            "DERA BASSI": ["DERA BASSI"],
            "KHARAR": ["KHARAR"],
            "BANUR": ["BANUR"],
            "PATIALA": ["PATIALA"],
            "NABHA": ["NABHA"],
            "SAMANA": ["SAMANA"],
            "RAJPURA": ["RAJPURA"],
            "MOONAK": ["MOONAK"],
            "AMRITSAR": ["AMRITSAR"],
            "RAYYA": ["RAYYA"],
            "JANDIALA GURU": ["JANDIALA GURU"],
            "AJNALA": ["AJNALA"],
            "TARN TARAN": ["TARN TARAN"],
            "GURDASPUR": ["GURDASPUR"],
            "BATALA": ["BATALA"],
            "DHARIWAL": ["DHARIWAL"],
            "DINA NAGAR": ["DINA NAGAR"],
            "QADIAN": ["QADIAN"],
            "PATHANKOT": ["PATHANKOT"],
            "SUJANPUR": ["SUJANPUR"],
            "FAZILKA": ["FAZILKA"],
            "JALALABAD": ["JALALABAD"],
            "ABOHAR": ["ABOHAR"],
            "FIROZEPUR": ["FIROZEPUR"],
            "ZIRA": ["ZIRA"],
            "MOGA": ["MOGA"],
            "BAGHA PURANA": ["BAGHA PURANA"],
            "Nihal Singh Wala": ["Nihal Singh Wala"],
            "FEROZEPUR CANTT.": ["FEROZEPUR CANTT."],
            "LUDHIANA": ["LUDHIANA"],
            "KHANNA": ["KHANNA"],
            "SAMRALA": ["SAMRALA"],
            "JAGRAON": ["JAGRAON"],
            "RAIKOT": ["RAIKOT"],
            "DORHA": ["DORHA"],
            "PAYAL": ["PAYAL"],
            "SAHNEWAL": ["SAHNEWAL"],
            "KAPURTHALA": ["KAPURTHALA"],
            "PHAGWARA": ["PHAGWARA"],
            "SULTANPUR LODHI": ["SULTANPUR LODHI"],
            "SINGH SABHA": ["SINGH SABHA"],
            "HOSHIARPUR": ["HOSHIARPUR"],
            "TANDA": ["TANDA"],
            "URMAR TANDA": ["URMAR TANDA"],
            "MAHILPUR": ["MAHILPUR"],
            "SHAM CHURASI": ["SHAM CHURASI"],
            "DASUYA": ["DASUYA"],
            "MUKERIAN": ["MUKERIAN"],
            "JALANDHAR": ["JALANDHAR"],
            "NAKODAR": ["NAKODAR"],
            "PHILLAUR": ["PHILLAUR"],
            "NURMAHAL": ["NURMAHAL"],
            "SHANKAR": ["SHANKAR"],
            "SBS NAGAR": ["SBS NAGAR"],
            "BALACHAUR": ["BALACHAUR"],
            "SHAHKOT": ["SHAHKOT"],
            "MALERKOTLA": ["MALERKOTLA"],
            "SANGRUR": ["SANGRUR"],
            "DHURI": ["DHURI"],
            "LONGOWAL": ["LONGOWAL"],
            "BARNALA": ["BARNALA"],
            "TAPA": ["TAPA"],
            "BHATINDA": ["BHATINDA"],
            "RAMPURA PHUL": ["RAMPURA PHUL"],
            "TALWANDI SABO": ["TALWANDI SABO"],
            "MANSA": ["MANSA"],
            "SARDULGARH": ["SARDULGARH"],
            "MALOUT": ["MALOUT"],
            "MUKTSAR": ["MUKTSAR"],
            "NISSING": ["NISSING"],
            "MOHALI": ["CHANDIGARH", "PANCHKULA", "MOHALI"],
            "PANCHKULA": ["CHANDIGARH", "PANCHKULA", "MOHALI"],
            "EAST DELHI": ["EAST DELHI"],
            "NORTH DELHI": ["NORTH DELHI"],
            "SOUTH DELHI": ["SOUTH DELHI"],
            "WEST DELHI": ["WEST DELHI"]
        };

        // Pincode data for auto-filling based on state/city selection
        const pincodeData = {
            "CHANDIGARH": "160017",
            "EAST DELHI": "110092",
            "NORTH DELHI": "110007",
            "SOUTH DELHI": "110017",
            "WEST DELHI": "110018",
            "AMBALA CANTT.": "133001",
            "AMBALA CITY": "134003",
            "BARARA": "133201",
            "NARAINGARH": "134203",
            "BHIWANI": "127021",
            "SIWANI": "127046",
            "TOSHAM": "127040",
            "CHARKHI DADRI": "127306",
            "FARIDABAD": "121001",
            "FATEHABAD": "125050",
            "RATIA": "125051",
            "TOHANA": "125120",
            "GURUGRAM": "122001",
            "BHADRA": "335501",
            "ADAMPUR": "144102",
            "AGROHA": "125047",
            "BARWALA": "134118",
            "HANSI": "125033",
            "HISAR": "125001",
            "UKLANA": "125113",
            "BAHADURGARH": "124507",
            "JHAJJAR": "124103",
            "JIND": "126102",
            "NARWANA": "126116",
            "CHEEKA": "136034",
            "KAITHAL": "136027",
            "KALAYAT": "136117",
            "PUNDRI": "136026",
            "RAJOUND": "136044",
            "SIWAN": "136033",
            "ASSANDH": "132039",
            "GHARAUNDA": "132114",
            "KARNAL": "132001",
            "NILOKHERI": "132117",
            "KURUKSHETRA": "136118",
            "LADWA": "136132",
            "PEHOWA": "136128",
            "SHAHABAD": "136135",
            "MAHENDERGARH": "123029",
            "NARNAUL": "123001",
            "PALWAL": "121102",
            "PUNAHANA": "122508",
            "HATHIN": "121103",
            "HODAL": "121106",
            "PANIPAT": "132103",
            "SAMALKHA": "132101",
            "REWARI": "123401",
            "BHADURGARH": "124507",
            "ROHTAK": "124001",
            "KALANAUR": "124113",
            "MEHAM": "124112",
            "SUNARIA": "124005",
            "SONEPAT": "131001",
            "GOHANA": "131301",
            "KHARKHODA": "131402",
            "JULANA": "126116",
            "JIND RURAL": "126102",
            "SIRSA": "125055",
            "ELLENABAD": "125102",
            "KHARIALA": "125077",
            "ODHAN": "125048",
            "RANIA": "125104",
            "SHAHJADPUR": "125059",
            "YAMUNANAGAR": "135001",
            "JAGADHRI": "135003",
            "BILASPUR": "135102",
            "SADHAURA": "135104",
            "DERA BASSI": "140507",
            "KHARAR": "140301",
            "BANUR": "140601",
            "PATIALA": "147001",
            "NABHA": "147201",
            "SAMANA": "147101",
            "RAJPURA": "140401",
            "MOONAK": "148026",
            "AMRITSAR": "143001",
            "RAYYA": "143112",
            "JANDIALA GURU": "143115",
            "AJNALA": "143102",
            "TARN TARAN": "143401",
            "GURDASPUR": "143521",
            "BATALA": "143505",
            "DHARIWAL": "143519",
            "DINA NAGAR": "143531",
            "QADIAN": "143516",
            "PATHANKOT": "145001",
            "SUJANPUR": "145023",
            "FAZILKA": "152123",
            "JALALABAD": "152024",
            "ABOHAR": "152116",
            "FIROZEPUR": "152002",
            "ZIRA": "142047",
            "MOGA": "142001",
            "BAGHA PURANA": "142038",
            "Nihal Singh Wala": "142052",
            "FEROZEPUR CANTT.": "152001",
            "LUDHIANA": "141001",
            "KHANNA": "141401",
            "SAMRALA": "141114",
            "JAGRAON": "142026",
            "RAIKOT": "142026",
            "DORHA": "141421",
            "PAYAL": "142027",
            "SAHNEWAL": "141123",
            "KAPURTHALA": "144601",
            "PHAGWARA": "144401",
            "SULTANPUR LODHI": "144626",
            "SINGH SABHA": "144702",
            "HOSHIARPUR": "146001",
            "TANDA": "144204",
            "URMAR TANDA": "144204",
            "MAHILPUR": "146105",
            "SHAM CHURASI": "144702",
            "DASUYA": "144205",
            "MUKERIAN": "144211",
            "JALANDHAR": "144001",
            "NAKODAR": "144040",
            "PHILLAUR": "144410",
            "NURMAHAL": "144039",
            "SHANKAR": "144702",
            "SBS NAGAR": "144521",
            "BALACHAUR": "144521",
            "SHAHKOT": "144702",
            "MALERKOTLA": "148023",
            "SANGRUR": "148001",
            "DHURI": "148024",
            "LONGOWAL": "148106",
            "BARNALA": "148101",
            "TAPA": "148108",
            "BHATINDA": "151001",
            "RAMPURA PHUL": "151103",
            "TALWANDI SABO": "151302",
            "MANSA": "151505",
            "SARDULGARH": "151507",
            "MALOUT": "152107",
            "MUKTSAR": "152026",
            "NISSING": "132117",
            "MOHALI": "160055",
            "PANCHKULA": "134109",
            "PINJORE": "134102"
        };
        
        // Hard-coded credentials for testing
        const validCredentials = {
            'admin': 'password123',
            'user1': 'pass123',
            'test': 'test123'
        };

        // Initialize location dropdowns
        function initializeLocationDropdowns() {
            const stateSelect = document.getElementById('state');
            const districtSelect = document.getElementById('district');
            const citySelect = document.getElementById('city');
            const examCenterSelect = document.getElementById('examCenter');
            
            // Clear existing options
            stateSelect.innerHTML = '<option value="">Select State/City</option>';
            districtSelect.innerHTML = '<option value="">Select District/Area</option>';
            citySelect.innerHTML = '<option value="">Select City</option>';
            examCenterSelect.innerHTML = '<option value="">Select Exam Center</option>';
            
            // Populate state/city dropdown
            Object.keys(locationData).sort().forEach(city => {
                const option = document.createElement('option');
                option.value = city;
                option.textContent = city;
                stateSelect.appendChild(option);
            });
            
            // Populate city dropdown (same data for city selection)
            Object.keys(locationData).sort().forEach(city => {
                const option = document.createElement('option');
                option.value = city;
                option.textContent = city;
                citySelect.appendChild(option);
            });
        }

        // Update districts based on selected state/city
        function updateDistricts() {
            const stateSelect = document.getElementById('state');
            const districtSelect = document.getElementById('district');
            const selectedState = stateSelect.value;
            
            // Clear district dropdown
            districtSelect.innerHTML = '<option value="">Select District/Area</option>';
            
            if (selectedState && locationData[selectedState]) {
                // Populate district dropdown with corresponding areas
                locationData[selectedState].forEach(district => {
                    const option = document.createElement('option');
                    option.value = district;
                    option.textContent = district;
                    districtSelect.appendChild(option);
                });
            }
        }

        // Update exam centers based on selected city
        function updateExamCenters() {
            const citySelect = document.getElementById('city');
            const examCenterSelect = document.getElementById('examCenter');
            const selectedCity = citySelect.value;
            
            // Clear exam center dropdown
            examCenterSelect.innerHTML = '<option value="">Select Exam Center</option>';
            
            if (selectedCity && locationData[selectedCity]) {
                // Populate exam center dropdown with corresponding areas
                locationData[selectedCity].forEach(center => {
                    const option = document.createElement('option');
                    option.value = center;
                    option.textContent = center;
                    examCenterSelect.appendChild(option);
                });
            }
        }

        // Page Navigation Functions
        function showPage(page) {
            // Hide all pages
            document.getElementById('home-page').style.display = 'none';
            document.getElementById('login-page').style.display = 'none';
            document.getElementById('registration-page').style.display = 'none';
            
            // Show requested page
            document.getElementById(page + '-page').style.display = page === 'home' ? 'flex' : 'block';
            currentPage = page;
            
            if (page === 'registration') {
                updateRegistrationCount();
                initializeLocationDropdowns();
            }
        }

        function showLogin() {
            showPage('login');
        }

        function showRegistration() {
            showPage('registration');
        }

        function logout() {
            showPage('home');
        }

        // Login Form Handler
        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const userid = document.getElementById('userid').value;
            const password = document.getElementById('password').value;
            
            // Validate credentials
            if (validCredentials[userid] && validCredentials[userid] === password) {
                showRegistration();
            } else {
                alert('Invalid credentials! Try: admin/password123 or test/test123');
            }
        });

        // Registration Form Handler
        document.getElementById('registration-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Clear previous errors
            clearErrors();
            
            // Validate form
            if (validateRegistrationForm()) {
                // Collect form data
                const formData = new FormData(this);
                const studentRecord = {};
                
                for (let [key, value] of formData.entries()) {
                    studentRecord[key] = value;
                }
                
                // Add timestamp
                studentRecord.registrationDate = new Date().toLocaleString();
                
                // Save to local storage (simulating server save)
                studentData.push(studentRecord);
                localStorage.setItem('studentData', JSON.stringify(studentData));
                
                // In a real application, you would send this data to your backend:
                // fetch('/api/register-student', {
                //     method: 'POST',
                //     headers: {'Content-Type': 'application/json'},
                //     body: JSON.stringify(studentRecord)
                // });
                
                // Show success modal and clear form
                showSuccessModal();
                this.reset();
                updateRegistrationCount();
            }
        });

        // Form Validation
        function validateRegistrationForm() {
            let isValid = true;
            
            // Phone number validation
            const phone = document.getElementById('phone').value;
            if (!/^[0-9]{10}$/.test(phone)) {
                showError('phone', 'Phone number must be exactly 10 digits');
                isValid = false;
            }
            
            // WhatsApp number validation
            const whatsapp = document.getElementById('whatsapp').value;
            if (!/^[0-9]{10}$/.test(whatsapp)) {
                showError('whatsapp', 'WhatsApp number must be exactly 10 digits');
                isValid = false;
            }
            
            // Pincode validation
            const pincode = document.getElementById('pincode').value;
            if (!/^[0-9]{6}$/.test(pincode)) {
                showError('pincode', 'Pincode must be exactly 6 digits');
                isValid = false;
            }
            
            // Email validation
            const email = document.getElementById('email').value;
            if (!isValidEmail(email)) {
                showError('email', 'Please enter a valid email address');
                isValid = false;
            }
            
            // Student email validation (if provided)
            const studentEmail = document.getElementById('studentEmail').value;
            if (studentEmail && !isValidEmail(studentEmail)) {
                showError('studentEmail', 'Please enter a valid email address');
                isValid = false;
            }
            
            return isValid;
        }

        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        function showError(fieldId, message) {
            const field = document.getElementById(fieldId);
            field.classList.add('error');
            
            // Remove existing error message
            const existingError = field.parentNode.querySelector('.error-message');
            if (existingError) {
                existingError.remove();
            }
            
            // Add new error message
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-message';
            errorDiv.textContent = message;
            field.parentNode.appendChild(errorDiv);
        }

        function clearErrors() {
            const errorFields = document.querySelectorAll('.error');
            const errorMessages = document.querySelectorAll('.error-message');
            
            errorFields.forEach(field => field.classList.remove('error'));
            errorMessages.forEach(msg => msg.remove());
        }

        // Success Modal
        function showSuccessModal() {
            document.getElementById('success-modal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('success-modal').style.display = 'none';
        }

        // Update registration count
        function updateRegistrationCount() {
            document.getElementById('total-registrations').textContent = studentData.length;
        }

        // Initialize the application
        function init() {
            showPage('home');
            updateRegistrationCount();
        }

        // Start the application
        init();

        // Utility function to download data as Excel (client-side simulation)
        function downloadExcel() {
            if (studentData.length === 0) {
                alert('No student data available to download.');
                return;
            }
            
            // Create CSV content (simplified Excel alternative)
            const headers = [
                'Registration Date', 'Email', 'First Name', 'Last Name', 'Phone', 
                'Student Email', 'Grade', 'Target Exam', 'State', 'District', 
                'City', 'Pincode', 'Exam Mode', 'Exam Center', 'Exam Date', 
                'Exam Time', 'Entity Name', 'School Name', 'Ambition Stream', 
                'WhatsApp', 'Amount'
            ];
            
            let csvContent = headers.join(',') + '\n';
            
            studentData.forEach(student => {
                const row = headers.map(header => {
                    const key = header.toLowerCase().replace(/ /g, '');
                    const value = student[key] || '';
                    return `"${value}"`;
                });
                csvContent += row.join(',') + '\n';
            });
            
            // Download the CSV file
            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'students.csv';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        // Add download button to registration page
        document.addEventListener('DOMContentLoaded', function() {
            const formActions = document.querySelector('.form-actions');
            if (formActions) {
                const downloadBtn = document.createElement('button');
                downloadBtn.type = 'button';
                downloadBtn.className = 'submit-btn';
                downloadBtn.style.marginLeft = '20px';
                downloadBtn.textContent = 'Download Excel';
                downloadBtn.onclick = downloadExcel;
                formActions.appendChild(downloadBtn);
            }
        });
    </script>
</body>
</html>